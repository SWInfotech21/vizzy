<!-- Wappler include head-page="layouts/dashboard" fontawesome_5="cdn" bootstrap5="local" is="dmx-app" id="plan" appConnect="local" components="{dmxBootstrap5Modal:{}}" -->
<meta name="ac:route" content="/portal/plan">

<head>
    <title>Vizzy Dashboard</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&ampdisplay=swap" rel="stylesheet" />

    <!-- Icons -->
    <link rel="stylesheet" href="/assets/vendor/fonts/fontawesome.css" />
    <link rel="stylesheet" href="/assets/vendor/fonts/tabler-icons.css" />
    <link rel="stylesheet" href="/assets/vendor/fonts/flag-icons.css" />

    <!-- Core CSS -->
    <link rel="stylesheet" href="/assets/vendor/css/rtl/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="/assets/vendor/css/rtl/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="/assets/css/demo.css" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="/assets/vendor/libs/node-waves/node-waves.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/typeahead-js/typeahead.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/apex-charts/apex-charts.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/swiper/swiper.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/datatables-bs5/datatables.bootstrap5.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.css" />

    <!-- Page CSS -->
    <link rel="stylesheet" href="/assets/vendor/css/pages/cards-advance.css" />
    <!-- Page CSS -->
    <link rel="stylesheet" href="/assets/vendor/css/pages/page-account-settings.css" />

    <!-- Helpers -->
    <script src="/assets/vendor/libs/jquery/jquery.js"></script>
    <script src="/assets/vendor/js/helpers.js"></script>
    <script src="/assets/vendor/js/template-customizer.js"></script>
    <script src="/assets/js/config.js"></script>
    <!-- Custom CSS Ends -->
</head>

<body dmx-on:load="varPageName.setValue('Profile')">
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
        <div class="layout-container">

            <!-- Layout container -->
            <div class="layout-page">

                <!-- Content wrapper -->
                <div class="content-wrapper">
                    <!-- Content -->

                    <div class="container-xxl flex-grow-1 container-p-y">
                        <!-- <h4 class="py-3 mb-4"><span class="text-muted fw-light">Account Settings /</span> Account</h4> -->

                        <div class="row">
                            <div class="col-md-12">
                                <div class="demo-vertical-spacing mb-4">
                                    <!-- Checkbox -->
                                    <!-- Radio -->
                                    <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio1" />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio1" dmx-on:click="browser1.goto('/portal/my-profile')">Profile</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio2" checked />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio2" dmx-on:click="browser1.goto('/portal/plan')">Plan</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio3" />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio3" dmx-on:click="browser1.goto('/portal/notifications');scUpdateNotif.load()">Notifications</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio4" />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio4" dmx-on:click="browser1.goto('/portal/security')">Security</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio5" />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio5" dmx-on:click="browser1.goto('/portal/billing')">Billing</label>
                                    </div>
                                </div>



                            </div>

                            <!-- User Plan Content -->
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <div class="col-12">
                                                <!-- Basic Message -->
                                                <div class="card-title mb-auto" dmx-show="scUserInfo.data.query.package=='Basic'">
                                                    <h5 class="mb-1 text-nowrap">Well done…</h5>
                                                    <h6>You are on a Basic plan</h6>
                                                    <p>Reduce your stress and gain more support. Feel guided and assured you can get through complex situation with easy to understand details improving the success of your application</p>
                                                </div>
                                                <div class="float-end" dmx-show="scUserInfo.data.query.package=='Basic'">
                                                    <button class="btn btn-primary">Upgrade your plan</button>
                                                </div>
                                                <!-- Pro Message -->
                                                <div class="card-title mb-auto" dmx-show="scUserInfo.data.query.package=='Pro'">
                                                    <h5 class="mb-1 text-nowrap">Nice work…</h5>
                                                    <h6>You are on the Pro plan</h6>
                                                    <p>Do you need any personal support and not getting a complex query answered, contact our support team now.</p>
                                                </div>
                                                <div class="float-end" dmx-show="scUserInfo.data.query.package=='Pro'">
                                                    <button class="btn btn-primary" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#downgradeModal">Downgrade Request</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="card">
                                        <div class="d-flex align-items-end row">
                                            <div class="col-8">
                                                <div class="card-body text-wrap">
                                                    <h5 class="card-title mb-0">Your tokens: 8,651</h5>
                                                    <p>We recommend you purchase more tokens.
                                                        Always make sure you top-up your tokens so it does affect your chats with the visa advisor 24 hours a day.</p>
                                                    <h4 class="text-primary"></h4>
                                                    <a href="javascript:;" class="btn btn-primary">Add more tokens</a>
                                                </div>
                                            </div>
                                            <div class="col-4 text-center text-sm-left">
                                                <div class="card-body pb-0 px-0 px-md-4">
                                                    <img src="../../assets/img/illustrations/card-advance-sale.png" height="140" alt="view sales" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-12 col-md-12 mt-4">
                                    <div class="card h-100">
                                        <div class="card-header pb-0">
                                            <div class="d-flex justify-content-between">
                                                <h5 class="d-block mb-2">We recommend that you keep your tokens topped up</h5>
                                                <!-- <p class="card-text text-success">+18.2%</p> -->
                                            </div>
                                            <!-- <h4 class="card-title mb-1">$42.5k</h4> -->
                                        </div>
                                        <div class="card-body">
                                            <div class="row ">
                                                <div class="col-4">
                                                    <h5 class="mb-0 pt-1">Tokens</h5>
                                                    <!-- <small class="text-muted">8,651</small> -->
                                                </div>
                                                <div class="col-4">
                                                </div>
                                                <div class="col-4 text-end">
                                                    <h5 class="mb-0 pt-1">Recommended amount</h5>
                                                    <small class="text-muted">20,000</small>
                                                </div>
                                            </div>
                                            <div class="row mx-0 my-3">
                                                <div class="progress w-100 px-0" style="height: 15px">
                                                    <div class="progress-bar" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                            </div>
                                            <!-- <div class="d-flex align-items-center my-4">
                                                <div class="progress w-100" style="height: 8px">
                                                    <div class="progress-bar bg-info" style="width: 70%" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
                                                    <div class="progress-bar bg-primary" role="progressbar" style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"></div>
                                                </div>
                                            </div> -->
                                            <p class="mb-0">You have used 8,651 tokens so far</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-12 mt-4">
                                    <h4>We are helping you with the following visa:</h4>
                                    <!-- Orders last week -->
                                    <div class="col-xl-3 col-md-4 col-6 mb-4" dmx-repeat:repeat1="scUserInfo.data.VisaApplicationInfo">
                                        <div class="card h-100">
                                            <div class="card-header pb-3">
                                                <h5 class="card-title mb-0">{{visa_application_type}}</h5>
                                                <small class="text-muted">{{destination_country}}</small><br /><small class="text-muted">Created: {{created_on.formatDate('MMM dd yyyy HH:mm')}}</small>
                                            </div>
                                            <div class="card-body">
                                                <div class="d-flex justify-content-between align-items-center gap-3">
                                                    <h4 class="mb-0"><button class="btn btn-success btn-sm">Active</button></h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>



                            <!-- Downgrade Request Modal -->
                            <div class="modal fade" id="downgradeModal" tabindex="-1" aria-hidden="true" is="dmx-bs5-modal">
                                <div class="modal-dialog modal-dialog-centered1 modal-simple modal-add-new-cc">
                                    <div class="modal-content p-3 p-md-5">
                                        <div class="modal-body p-0">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            <div class="text-center mb-4">
                                                <h3 class="mb-2">Downgrade Request <span class="spinner-grow" role="status" dmx-show="state.executing"></span></h3>

                                                <!-- <p class="text-muted">Add new card to complete payment</p> -->
                                            </div>
                                            <form id="scFormDowngrade" class="row g-3" is="dmx-serverconnect-form" method="post" action="/api/MyProfile/DowngradeRequest" dmx-on:error="notifies1.warning(lastError.response)" dmx-on:unauthorized="notifies1.warning(lastError.response)" dmx-on:forbidden="notifies1.warning(lastError.response)" dmx-on:invalid="notifies1.warning(lastError.response.data.Resp)" dmx-on:success="notifies1.success('Request sent successfully');scFormDowngrade.reset(true);downgradeModal.hide()">
                                                <div class="col-12">
                                                    <label class="form-label w-100" for="DowngradeSubject">Subject</label>
                                                    <div class="input-group input-group-merge">
                                                        <input id="DowngradeSubject" name="DowngradeSubject" class="form-control" type="text" placeholder="Requesting for downgrade package" />
                                                    </div>
                                                </div>
                                                <div class="col-12">
                                                    <label class="form-label" for="DowngradeMessage">Message</label>
                                                    <textarea type="text" id="DowngradeMessage" class="form-control" placeholder="Requesting for downgrade package" name="DowngradeMessage" required="" rowspan="4" rows="4"></textarea>
                                                </div>
                                                <div class="col-12 text-center">
                                                    <button type="submit" class="btn btn-primary me-sm-3 me-1" dmx-bind:disabled="state.executing">Send</button>
                                                    <button type="reset" class="btn btn-label-secondary btn-reset" data-bs-dismiss="modal" aria-label="Close">
                                                        Cancel
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--/ Downgrade Request Modal -->




                        </div>
                    </div>
                    <!-- / Content -->

                    <div class="content-backdrop fade"></div>
                </div>
                <!-- Content wrapper -->
            </div>
            <!-- / Layout page -->
        </div>

        <!-- Overlay -->
        <div class="layout-overlay layout-menu-toggle"></div>

        <!-- Drag Target Area To SlideIn Menu On Small Screens -->
        <div class="drag-target"></div>
    </div>
    <!-- / Layout wrapper -->
    <!-- Core JS -->
    <script src="/assets/vendor/libs/popper/popper.js"></script>
    <script src="/assets/vendor/libs/node-waves/node-waves.js"></script>
    <script src="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="/assets/vendor/libs/hammer/hammer.js"></script>
    <script src="/assets/vendor/libs/typeahead-js/typeahead.js"></script>
    <script src="/assets/vendor/js/menu.js"></script>
    <!-- endbuild -->

    <!-- Main JS -->
    <script src="/assets/js/main.js"></script>

    <!-- Page JS -->
    <script src="/assets/js/forms-selects.js"></script>
</body>