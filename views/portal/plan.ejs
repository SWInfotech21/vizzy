<!-- Wappler include head-page="layouts/dashboard" fontawesome_5="cdn" bootstrap5="local" is="dmx-app" id="plan" appConnect="local" components="{dmxBootstrap5Modal:{}}" -->
<meta name="ac:route" content="/portal/plan">
<dmx-value id="varBuyTokenSteps" dmx-bind:value="'ViewPlan'"></dmx-value>
<dmx-value id="varToken" dmx-bind:value="2"></dmx-value>

<head>
    <title>Vizzy Dashboard</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&ampdisplay=swap" rel="stylesheet" />

    <!-- Icons -->
    <link rel="stylesheet" href="/assets/vendor/fonts/fontawesome.css" />
    <link rel="stylesheet" href="/assets/vendor/fonts/tabler-icons.css" />
    <link rel="stylesheet" href="/assets/vendor/fonts/flag-icons.css" />

    <!-- Core CSS -->
    <link rel="stylesheet" href="/assets/vendor/css/rtl/core.css" class="template-customizer-core-css" />
    <link rel="stylesheet" href="/assets/vendor/css/rtl/theme-default.css" class="template-customizer-theme-css" />
    <link rel="stylesheet" href="/assets/css/demo.css" />

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="/assets/vendor/libs/node-waves/node-waves.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/typeahead-js/typeahead.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/apex-charts/apex-charts.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/swiper/swiper.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/datatables-bs5/datatables.bootstrap5.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css" />
    <link rel="stylesheet" href="/assets/vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.css" />

    <!-- Page CSS -->
    <link rel="stylesheet" href="/assets/vendor/css/pages/cards-advance.css" />
    <!-- Page CSS -->
    <link rel="stylesheet" href="/assets/vendor/css/pages/page-account-settings.css" />

    <!-- Helpers -->
    <script src="/assets/vendor/libs/jquery/jquery.js"></script>
    <script src="/assets/vendor/js/helpers.js"></script>
    <script src="/assets/vendor/js/template-customizer.js"></script>
    <script src="/assets/js/config.js"></script>
    <!-- Custom CSS Ends -->
</head>

<body dmx-on:load="varPageName.setValue('Profile')">
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
        <div class="layout-container">

            <!-- Layout container -->
            <div class="layout-page">

                <!-- Content wrapper -->
                <div class="content-wrapper">
                    <!-- Content -->

                    <div class="container-xxl flex-grow-1 container-p-y">
                        <!-- <h4 class="py-3 mb-4"><span class="text-muted fw-light">Account Settings /</span> Account</h4> -->

                        <div class="row">


                            <div class="col-md-12" dmx-show="(varBuyTokenSteps.value=='ViewPlan')">
                                <div class="demo-vertical-spacing mb-4">
                                    <!-- Checkbox -->
                                    <!-- Radio -->
                                    <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio1" />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio1" dmx-on:click="browser1.goto('/portal/my-profile')">Profile</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio2" checked />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio2" dmx-on:click="browser1.goto('/portal/plan')">Plan</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio3" />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio3" dmx-on:click="browser1.goto('/portal/notifications');scUpdateNotif.load()">Notifications</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio4" />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio4" dmx-on:click="browser1.goto('/portal/security')">Security</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio5" />
                                        <label class="btn btn-outline-primary px-2 px-sm-3 px-md-4" for="btnradio5" dmx-on:click="browser1.goto('/portal/billing')">Billing</label>
                                    </div>
                                </div>



                            </div>

                            <!-- User Plan Content -->
                            <div class="row" dmx-show="(varBuyTokenSteps.value=='ViewPlan')">
                                <div class="col-12 col-md-6">
                                    <div class="card h-100">
                                        <div class="card-body">
                                            <div class="col-12">
                                                <!-- Basic Message -->
                                                <div class="card-title mb-auto" dmx-show="scUserInfo.data.query.package=='Basic'">
                                                    <h5 class="mb-1 text-nowrap">Well done…</h5>
                                                    <h6>You are on a Basic plan</h6>
                                                    <p>Reduce your stress and gain more support. Feel guided and assured you can get through complex situation with easy to understand details improving the success of your application</p>
                                                </div>
                                                <div class="float-end" dmx-show="scUserInfo.data.query.package=='Basic'">
                                                    <button class="btn btn-primary">Upgrade your plan</button>
                                                </div>
                                                <!-- Pro Message -->
                                                <div class="card-title mb-auto" dmx-show="scUserInfo.data.query.package=='Pro'">
                                                    <h5 class="mb-1 text-nowrap">Nice work…</h5>
                                                    <h6 class="mb-1">You are on the Pro plan</h6>
                                                    <p>Do you need any personal support and not getting a complex query answered, contact our support team now.</p>
                                                </div>
                                                <div class="float-end" dmx-show="scUserInfo.data.query.package=='Pro'">
                                                    <button class="btn btn-primary" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#downgradeModal">Downgrade Request</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-md-6">
                                    <div class="card">
                                        <div class="d-flex align-items-end row">
                                            <div class="col-8">
                                                <div class="card-body text-wrap">
                                                    <h5 class="card-title mb-1">Your tokens: 8,651</h5>
                                                    <p>We recommend you purchase more tokens.
                                                        Always make sure you top-up your tokens so it does affect your chats with the visa advisor 24 hours a day.</p>
                                                    <h4 class="text-primary"></h4>
                                                    <div class="btn-group">
                                                        <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                                                            Add more tokens
                                                        </button>
                                                        <ul class="dropdown-menu">
                                                            <li class="px-4 py-1">
                                                                <div class="form-check" dmx-on:click="varToken.setValue(1)">
                                                                    <input name="default-radio-1" class="form-check-input" type="radio" value="" id="defaultRadio1" />
                                                                    <label class="form-check-label" for="defaultRadio1"> &nbsp;&nbsp;€8 <span class="text-muted">10,000 tokens</span></label>
                                                                </div>
                                                            </li>
                                                            <li class="px-4 py-1">
                                                                <div class="form-check" dmx-on:click="varToken.setValue(2)">
                                                                    <input name="default-radio-1" class="form-check-input" type="radio" value="" id="defaultRadio2" checked />
                                                                    <label class="form-check-label" for="defaultRadio2"> &nbsp;&nbsp;€15 <span class="text-muted">30,000 tokens</span></label>
                                                                </div>
                                                            </li>
                                                            <li class="px-4 py-1">
                                                                <div class="form-check" dmx-on:click="varToken.setValue(3)">
                                                                    <input name="default-radio-1" class="form-check-input" type="radio" value="" id="defaultRadio3" />
                                                                    <label class="form-check-label" for="defaultRadio3"> &nbsp;&nbsp;€20 <span class="text-muted">45,000 tokens</span></label>
                                                                </div>
                                                            </li>
                                                            <li class="px-4 py-1">
                                                                <div class="form-check" dmx-on:click="varToken.setValue(4)">
                                                                    <input name="default-radio-1" class="form-check-input" type="radio" value="" id="defaultRadio4" />
                                                                    <label class="form-check-label" for="defaultRadio4"> &nbsp;&nbsp;€35 <span class="text-muted">100,000 tokens</span></label>
                                                                </div>
                                                            </li>
                                                            <li class="px-4 py-1">
                                                                <div class="form-check" dmx-on:click="varToken.setValue(5)">
                                                                    <input name="default-radio-1" class="form-check-input" type="radio" value="" id="defaultRadio5" />
                                                                    <label class="form-check-label" for="defaultRadio5"> &nbsp;&nbsp;€50 <span class="text-muted">180,000 tokens</span></label>
                                                                </div>
                                                                <!-- <a class="dropdown-item" href="javascript:void(0);" for="defaultRadio5"><input name="default-radio-1" class="form-check-input" type="radio" value="" id="defaultRadio5" />&nbsp;&nbsp;€50 <span class="text-muted">180,000 tokens</span></a> -->
                                                            </li>
                                                            <li class="mt-1"><a class="dropdown-item btn btn-success w-50 float-end" href="javascript:void(0);" dmx-on:click="varBuyTokenSteps.setValue('PurchaseToken')">Purchase</a></li>
                                                        </ul>
                                                    </div>


                                                </div>
                                            </div>
                                            <div class="col-4 text-center text-sm-left">
                                                <div class="card-body pb-0 px-0 px-md-4">
                                                    <img src="../../assets/img/illustrations/card-advance-sale.png" height="140" alt="view sales" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-12 col-md-12 mt-4">
                                    <h4>We are helping you with the following visa:</h4>
                                    <!-- Orders last week -->
                                    <div class="col-xl-3 col-md-4 col-6 mb-4" dmx-repeat:repeat1="scUserInfo.data.VisaApplicationInfo">
                                        <div class="card h-100">
                                            <div class="card-header pb-3">
                                                <h5 class="card-title mb-0">{{visa_application_type}}</h5>
                                                <small class="text-muted">{{destination_country}}</small><br /><small class="text-muted">Created: {{created_on.formatDate('MMM dd yyyy HH:mm')}}</small>
                                            </div>
                                            <div class="card-body">
                                                <div class="d-flex justify-content-between align-items-center gap-3">
                                                    <h4 class="mb-0"><button class="btn btn-success btn-sm">Active</button></h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                            <div class="row mx-0" dmx-show="(varBuyTokenSteps.value=='PurchaseToken')">
                                <section class="section-py bg-body first-section-pt px-0">
                                    <div class="mt-2">
                                        <div class="card px-3">
                                            <div class="row">
                                                <div class="col-lg-7 card-body border-end">
                                                    <h4 class="mb-2">Add more Chat time with your agent…</h4>
                                                    <p class="mb-0">
                                                        Enjoy the stress-free support with uninterrupted service by having plenty of tokens available for when you need your agent.
                                                    </p>
                                                    <div class="row py-4 my-2">
                                                        <div class="col-md mb-md-0 mb-2">
                                                            <div class="form-check custom-option custom-option-basic checked">
                                                                <label class="form-check-label custom-option-content form-check-input-payment d-flex gap-3 align-items-center" for="customRadioVisa">
                                                                    <input name="customRadioTemp" class="form-check-input" type="radio" value="credit-card" id="customRadioVisa" />
                                                                    <span class="custom-option-body">
                                                                        <img src="/assets/img/icons/payments/visa-light.png" alt="visa-card" width="58" />
                                                                        <span class="ms-3">Credit Card</span>
                                                                    </span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-md mb-md-0 mb-2">
                                                            <div class="form-check custom-option custom-option-basic">
                                                                <label class="form-check-label custom-option-content form-check-input-payment d-flex gap-3 align-items-center" for="customRadioPaypal">
                                                                    <input name="customRadioTemp" class="form-check-input" type="radio" value="paypal" id="customRadioPaypal" />
                                                                    <span class="custom-option-body">
                                                                        <img src="/assets/img/icons/payments/paypal-light.png" alt="paypal" width="58" />
                                                                        <span class="ms-3">Paypal</span>
                                                                    </span>
                                                                </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <h4 class="mt-2 mb-4">Use existing payment card</h4>
                                                    <div class="row mx-0">
                                                        <div class="col-md-6 col-12">
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="checkbox" value="" id="savedPaymentDetails" checked />
                                                                <label class="form-check-label" for="savedPaymentDetails"> Use saved billing address </label>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 col-12">
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="checkbox" value="" id="savedBillingAddress" checked />
                                                                <label class="form-check-label" for="savedBillingAddress"> Use saved billing address </label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <h4 class="mt-2 mb-4">Billing address Details</h4>
                                                    <form>
                                                        <div class="row g-3">
                                                            <div class="col-md-6">
                                                                <label class="form-label" for="billings-address1">Address Line 1</label>
                                                                <input type="text" id="billings-address1" class="form-control" placeholder="number, street/building name
" />
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label class="form-label" for="billings-address2">Address Line 2</label>
                                                                <input type="text" id="billings-address2" class="form-control" placeholder="Street name" />
                                                            </div>
                                                            <div class="col-md-12">
                                                                <label class="form-label" for="billings-address3">Address Line 3</label>
                                                                <input type="text" id="billings-address3" class="form-control" placeholder="(optional)" />
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label class="form-label" for="billings-country">Country</label>
                                                                <select id="billings-country" class="form-select" data-allow-clear="true">
                                                                    <option value="">Select</option>
                                                                    <option value="Australia">Australia</option>
                                                                    <option value="Brazil">Brazil</option>
                                                                    <option value="Canada">Canada</option>
                                                                    <option value="China">China</option>
                                                                    <option value="France">France</option>
                                                                    <option value="Germany">Germany</option>
                                                                    <option value="India">India</option>
                                                                    <option value="Turkey">Turkey</option>
                                                                    <option value="Ukraine">Ukraine</option>
                                                                    <option value="United Arab Emirates">United Arab Emirates</option>
                                                                    <option value="United Kingdom">United Kingdom</option>
                                                                    <option value="United States">United States</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label class="form-label" for="billings-zip">Billing Zip / Postal Code</label>
                                                                <input type="text" id="billings-zip" class="form-control billings-zip-code" placeholder="Zip / Postal Code" />
                                                            </div>
                                                        </div>
                                                    </form>
                                                    <div id="form-credit-card">
                                                        <h4 class="mt-4 pt-2">Credit Card Info</h4>
                                                        <form>
                                                            <div class="row g-3">
                                                                <div class="col-12">
                                                                    <label class="form-label" for="billings-card-num">Card number</label>
                                                                    <div class="input-group input-group-merge">
                                                                        <input type="text" id="billings-card-num" class="form-control billing-card-mask" placeholder="7465 8374 5837 5067" aria-describedby="paymentCard" />
                                                                        <span class="input-group-text cursor-pointer p-1" id="paymentCard"><span class="card-type"></span></span>
                                                                    </div>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label class="form-label" for="billings-card-name">Name</label>
                                                                    <input type="text" id="billings-card-name" class="form-control" placeholder="John Doe" />
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <label class="form-label" for="billings-card-date">EXP. Date</label>
                                                                    <input type="text" id="billings-card-date" class="form-control billing-expiry-date-mask" placeholder="MM/YY" />
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <label class="form-label" for="billings-card-cvv">CVV</label>
                                                                    <input type="text" id="billings-card-cvv" class="form-control billing-cvv-mask" maxlength="3" placeholder="965" />
                                                                </div>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div class="col-lg-5 card-body">
                                                    <h4 class="mb-2">Order Summary</h4>
                                                    <p class="pb-2 mb-0">
                                                        Enjoy the stress free support with uninterrupted service from having your tokens for chat filled and available for when you need them.
                                                    </p>
                                                    <div class="bg-lighter p-4 rounded mt-4">
                                                        <p class="mb-1">Nice work, your agent will be available and take your worries.</p>
                                                        <div class="d-flex align-items-center">
                                                            <h1 class="text-heading display-5 mb-1">{{((varToken.value==1)?'€8':(varToken.value==2)?'€15':(varToken.value==3)?'€20':(varToken.value==4)?'€35':(varToken.value==5)?'€50':'')}}</h1>
                                                            <sub>/ {{((varToken.value==1)?'10,000':(varToken.value==2)?'30,000':(varToken.value==3)?'45,000':(varToken.value==4)?'100,000':(varToken.value==5)?'180,000':'')}} tokens</sub>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <div class="d-flex justify-content-between align-items-center mt-3">
                                                            <p class="mb-0">Subtotal</p>
                                                            <h6 class="mb-0">{{((varToken.value==1)?'€8.00':(varToken.value==2)?'€15.00':(varToken.value==3)?'€20.00':(varToken.value==4)?'€35.00':(varToken.value==5)?'€50.00':'')}}</h6>
                                                        </div>
                                                        <div class="d-flex justify-content-between align-items-center mt-3">
                                                            <p class="mb-0">Tax</p>
                                                            <h6 class="mb-0">$4.99</h6>
                                                        </div>
                                                        <hr />
                                                        <div class="d-flex justify-content-between align-items-center mt-3 pb-1">
                                                            <p class="mb-0">Total</p>
                                                            <h6 class="mb-0">{{((varToken.value==1)?'€12.99':(varToken.value==2)?'€19.99':(varToken.value==3)?'€24.99':(varToken.value==4)?'€39.99':(varToken.value==5)?'€54.99':'')}}</h6>
                                                        </div>
                                                        <div class="d-grid mt-3">
                                                            <button class="btn btn-success">
                                                                <span class="me-2">Proceed with Payment</span>
                                                                <i class="ti ti-arrow-right scaleX-n1-rtl"></i>
                                                            </button>
                                                        </div>

                                                        <p class="mt-4 pt-2">
                                                            By continuing, you accept to our Terms of Services and Privacy Policy. Please note that payments are
                                                            non-refundable.
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </div>


                            <!-- Downgrade Request Modal -->
                            <div class="modal fade" id="downgradeModal" tabindex="-1" aria-hidden="true" is="dmx-bs5-modal">
                                <div class="modal-dialog modal-dialog-centered1 modal-simple modal-add-new-cc">
                                    <div class="modal-content p-3 p-md-5">
                                        <div class="modal-body p-0">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            <div class="text-center mb-4">
                                                <h3 class="mb-2">Downgrade Request <span class="spinner-grow" role="status" dmx-show="state.executing"></span></h3>

                                                <!-- <p class="text-muted">Add new card to complete payment</p> -->
                                            </div>
                                            <form id="scFormDowngrade" class="row g-3" is="dmx-serverconnect-form" method="post" action="/api/MyProfile/DowngradeRequest" dmx-on:error="notifies1.warning(lastError.response)" dmx-on:unauthorized="notifies1.warning(lastError.response)" dmx-on:forbidden="notifies1.warning(lastError.response)" dmx-on:invalid="notifies1.warning(lastError.response.data.Resp)" dmx-on:success="notifies1.success('Request sent successfully');scFormDowngrade.reset(true);downgradeModal.hide()">
                                                <div class="col-12">
                                                    <label class="form-label w-100" for="DowngradeSubject">Subject</label>
                                                    <div class="input-group input-group-merge">
                                                        <input id="DowngradeSubject" name="DowngradeSubject" class="form-control" type="text" placeholder="Requesting for downgrade package" />
                                                    </div>
                                                </div>
                                                <div class="col-12">
                                                    <label class="form-label" for="DowngradeMessage">Message</label>
                                                    <textarea type="text" id="DowngradeMessage" class="form-control" placeholder="Requesting for downgrade package" name="DowngradeMessage" required="" rowspan="4" rows="4"></textarea>
                                                </div>
                                                <div class="col-12 text-center">
                                                    <button type="submit" class="btn btn-primary me-sm-3 me-1" dmx-bind:disabled="state.executing">Send</button>
                                                    <button type="reset" class="btn btn-label-secondary btn-reset" data-bs-dismiss="modal" aria-label="Close">
                                                        Cancel
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--/ Downgrade Request Modal -->




                        </div>
                    </div>
                    <!-- / Content -->

                    <div class="content-backdrop fade"></div>
                </div>
                <!-- Content wrapper -->
            </div>
            <!-- / Layout page -->
        </div>

        <!-- Overlay -->
        <div class="layout-overlay layout-menu-toggle"></div>

        <!-- Drag Target Area To SlideIn Menu On Small Screens -->
        <div class="drag-target"></div>
    </div>
    <!-- / Layout wrapper -->
    <!-- Core JS -->
    <script src="/assets/vendor/libs/popper/popper.js"></script>
    <script src="/assets/vendor/libs/node-waves/node-waves.js"></script>
    <script src="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="/assets/vendor/libs/hammer/hammer.js"></script>
    <script src="/assets/vendor/libs/typeahead-js/typeahead.js"></script>
    <script src="/assets/vendor/js/menu.js"></script>
    <!-- endbuild -->

    <!-- Main JS -->
    <script src="/assets/js/main.js"></script>

    <!-- Page JS -->
    <script src="/assets/js/forms-selects.js"></script>
</body>